// Объект для хранения переменных
const переменные: Record<string, any> = {};

// Функция для определения переменной в формате "имя: тип = значение"
function определитьПеременную(присвоение: string) {
  // Используем регулярное выражение для извлечения имени, типа и значения
  const regex = /^(?<имя>\w+):\s*(?<тип>\w+)\s*=\s*(.+)$/;
  const match = присвоение.match(regex);

  if (match) {
    const имя = match[1]; // Первая группа захвата
    const тип = match[2]; // Вторая группа захвата
    const значение = match[3]; // Третья группа захвата

    // Преобразуем значение в соответствующий тип
    let преобразованноеЗначение: any;
    switch (тип.toLowerCase()) {
      case 'number':
        преобразованноеЗначение = Number(значение);
        break;
      case 'string':
        преобразованноеЗначение = String(значение);
        break;
      case 'boolean':
        преобразованноеЗначение = значение.toLowerCase() === 'true';
        break;
      default:
        console.log(`Ошибка: Тип '${тип}' не распознан.`);
        return;
    }

    // Сохраняем переменную в объект
    переменные[имя] = преобразованноеЗначение;
  } else {
    console.log('Ошибка: Неверный формат присвоения. Используйте "имя: тип = значение".');
  }
}

/*определитьПеременную('hola: string = 2');
console.log(переменные["hola"]);*/
// Экспортируем функцию и переменные
export { определитьПеременную, переменные };
